<!-- Admin Navigation -->
<nav id="admin-nav">
    <div class="nav-container">
        <ul class="nav-tabs">
            <li><a href="#" data-tab="dashboard" class="nav-tab active">T·ªïng quan</a></li>
            <li><a href="#" data-tab="users" class="nav-tab">Qu·∫£n l√Ω t√†i kho·∫£n</a></li>
            <li><a href="#" data-tab="stats" class="nav-tab">Th·ªëng k√™</a></li>
            <li><a href="#" data-tab="settings" class="nav-tab">C√†i ƒë·∫∑t</a></li>
            <li><a href="#" data-tab="classes" class="nav-tab">Qu·∫£n l√Ω l·ªõp h·ªçc</a></li>
        </ul>
    </div>
</nav>

<!-- Admin Content -->
<div id="admin-content">
    <!-- Dashboard Tab -->
    <div id="dashboard-tab" class="tab-content active">
        <div class="dashboard-header">
            <h2>T·ªïng quan h·ªá th·ªëng</h2>
            <button id="refresh-data-btn" class="btn btn-secondary">üîÑ L√†m m·ªõi d·ªØ li·ªáu</button>
        </div>
        <div class="dashboard-grid">
            <div class="stats-card">
                <h3>T·ªïng s·ªë h·ªçc sinh</h3>
                <div class="stat-number" id="total-students">0</div>
            </div>
            <div class="stats-card">
                <h3>T·ªïng s·ªë gi√°o vi√™n</h3>
                <div class="stat-number" id="total-teachers">0</div>
            </div>
            <div class="stats-card">
                <h3>T·ªïng s·ªë b√†i thi</h3>
                <div class="stat-number" id="total-exams">0</div>
            </div>
            <div class="stats-card">
                <h3>L∆∞·ª£t thi h√¥m nay</h3>
                <div class="stat-number" id="today-attempts">0</div>
            </div>
        </div>

        <div class="recent-activities">
            <h3>Ho·∫°t ƒë·ªông g·∫ßn ƒë√¢y</h3>
            <div id="recent-activities-list">
                <!-- Danh s√°ch ho·∫°t ƒë·ªông s·∫Ω ƒë∆∞·ª£c load ƒë·ªông -->
            </div>
        </div>
    </div>

    <!-- Users Management Tab -->
    <div id="users-tab" class="tab-content">
        <div class="users-header">
            <h2>Qu·∫£n l√Ω t√†i kho·∫£n</h2>
            <button id="add-user-btn" class="btn btn-primary">Th√™m t√†i kho·∫£n m·ªõi</button>
        </div>

        <div class="users-filters">
            <select id="user-type-filter">
                <option value="all">T·∫•t c·∫£</option>
                <option value="student">H·ªçc sinh</option>
                <option value="teacher">Gi√°o vi√™n</option>
                <option value="admin">Qu·∫£n tr·ªã vi√™n</option>
            </select>
            <input type="text" id="search-users" placeholder="T√¨m ki·∫øm theo t√™n ho·∫∑c username...">
        </div>

        <div class="users-table-container">
            <table id="users-table">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Username</th>
                        <th>T√™n</th>
                        <th>Vai tr√≤</th>
                        <th>Th√¥ng tin b·ªï sung</th>
                        <th>Thao t√°c</th>
                    </tr>
                </thead>
                <tbody id="users-table-body">
                    <!-- D·ªØ li·ªáu users s·∫Ω ƒë∆∞·ª£c load ƒë·ªông -->
                </tbody>
            </table>
        </div>
    </div>

    <!-- Stats Tab -->
    <div id="stats-tab" class="tab-content">
        <div class="stats-header">
            <h2>Th·ªëng k√™ h·ªá th·ªëng</h2>
        </div>
        <div class="stats-content">
            <div class="chart-container">
                <h3>Bi·ªÉu ƒë·ªì ho·∫°t ƒë·ªông h·ªá th·ªëng</h3>
                <p>T√≠nh nƒÉng bi·ªÉu ƒë·ªì s·∫Ω ƒë∆∞·ª£c ph√°t tri·ªÉn trong phi√™n b·∫£n sau.</p>
            </div>
            <div class="stats-summary">
                <h3>B√°o c√°o t·ªïng quan</h3>
                <div class="summary-grid">
                    <div class="summary-item">
                        <span class="label">T·ªïng s·ªë ng∆∞·ªùi d√πng:</span>
                        <span class="value" id="total-users">0</span>
                    </div>
                    <div class="summary-item">
                        <span class="label">B√†i thi ho·∫°t ƒë·ªông:</span>
                        <span class="value" id="active-exams">0</span>
                    </div>
                    <div class="summary-item">
                        <span class="label">L∆∞·ª£t thi trong tu·∫ßn:</span>
                        <span class="value" id="weekly-attempts">0</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Settings Tab -->
    <div id="settings-tab" class="tab-content">
        <div class="settings-header">
            <h2>C√†i ƒë·∫∑t h·ªá th·ªëng</h2>
        </div>
        <div class="settings-content">
            <div class="settings-section">
                <h3>C√†i ƒë·∫∑t chung</h3>
                <div class="form-group">
                    <label for="system-name">T√™n h·ªá th·ªëng:</label>
                    <input type="text" id="system-name" value="H·ªá th·ªëng thi online">
                </div>
                <div class="form-group">
                    <label for="default-exam-time">Th·ªùi gian thi m·∫∑c ƒë·ªãnh (ph√∫t):</label>
                    <input type="number" id="default-exam-time" value="60" min="1" max="300">
                </div>
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="allow-registration">
                        Cho ph√©p ƒëƒÉng k√Ω t√†i kho·∫£n m·ªõi
                    </label>
                </div>
            </div>

            <div class="settings-section">
                <h3>B·∫£o m·∫≠t</h3>
                <div class="form-group">
                    <label for="min-password-length">ƒê·ªô d√†i m·∫≠t kh·∫©u t·ªëi thi·ªÉu:</label>
                    <input type="number" id="min-password-length" value="6" min="4" max="20">
                </div>
                <div class="form-group">
                    <label for="session-timeout">Th·ªùi gian h·∫øt h·∫°n phi√™n (ph√∫t):</label>
                    <input type="number" id="session-timeout" value="30" min="5" max="480">
                </div>
            </div>

            <div class="settings-actions">
                <button id="save-settings-btn" class="btn btn-primary">L∆∞u c√†i ƒë·∫∑t</button>
                <button id="reset-settings-btn" class="btn btn-secondary">ƒê·∫∑t l·∫°i m·∫∑c ƒë·ªãnh</button>
            </div>
        </div>
    </div>

    <!-- Classes Management Tab -->
    <div id="classes-tab" class="tab-content">
        <div class="classes-header">
            <h2>Qu·∫£n l√Ω l·ªõp h·ªçc</h2>
            <button id="add-class-btn" class="btn btn-primary">Th√™m l·ªõp h·ªçc m·ªõi</button>
        </div>
        <div class="classes-table-container">
            <table id="classes-table" class="styled-table">
                <thead>
                    <tr>
                        <th>M√£ l·ªõp</th>
                        <th>T√™n l·ªõp</th>
                        <th>M√¥ t·∫£</th>
                        <th>Gi√°o vi√™n</th>
                        <th>H·ªçc sinh</th>
                        <th>Thao t√°c</th>
                    </tr>
                </thead>
                <tbody id="classes-table-body">
                    <!-- D·ªØ li·ªáu l·ªõp h·ªçc s·∫Ω ƒë∆∞·ª£c load ƒë·ªông -->
                </tbody>
            </table>
        </div>
        <style>
            .classes-header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 18px;
                padding: 18px 0 8px 0;
                border-bottom: 2px solid #e2e8f0;
            }

            .classes-header h2 {
                margin: 0;
                color: #112444;
                font-size: 2rem;
                font-weight: 700;
                letter-spacing: 0.5px;
                display: flex;
                align-items: center;
                gap: 8px;
            }

            .classes-header .btn {
                font-size: 16px;
                padding: 10px 22px;
                border-radius: 8px;
                box-shadow: 0 2px 8px rgba(17, 36, 68, 0.08);
                display: flex;
                align-items: center;
                gap: 8px;
            }

            .styled-table {
                width: 100%;
                border-collapse: collapse;
                background: #fff;
                border-radius: 10px;
                overflow: hidden;
                box-shadow: 0 2px 12px rgba(17, 36, 68, 0.07);
            }

            .styled-table th,
            .styled-table td {
                padding: 14px 12px;
                text-align: left;
            }

            .styled-table th {
                background: #112444;
                color: #fff;
                font-weight: 600;
                font-size: 1rem;
                border-bottom: 2px solid #e2e8f0;
            }

            .styled-table tbody tr {
                border-bottom: 1px solid #e2e8f0;
                transition: background 0.2s;
            }

            .styled-table tbody tr:hover {
                background: #f1f6fb;
            }

            .styled-table td {
                font-size: 15px;
                color: #2d3748;
            }

            .styled-table td .user-list {
                display: flex;
                flex-wrap: wrap;
                gap: 6px;
            }

            .styled-table td .user-badge {
                background: #e2e8f0;
                color: #112444;
                border-radius: 12px;
                padding: 2px 10px;
                font-size: 13px;
                font-weight: 500;
                display: inline-block;
            }

            .styled-table td .user-badge.teacher {
                background: #d1e7ff;
                color: #1a365d;
            }

            .styled-table td .user-badge.student {
                background: #e6fffa;
                color: #229954;
            }

            .styled-table td .action-btns {
                display: flex;
                gap: 8px;
            }

            .styled-table .btn-sm {
                padding: 6px 14px;
                font-size: 14px;
                border-radius: 6px;
                border: none;
                cursor: pointer;
                transition: background 0.2s, color 0.2s;
                display: flex;
                align-items: center;
                gap: 4px;
            }

            .styled-table .btn-edit {
                background: #f6e05e;
                color: #112444;
            }

            .styled-table .btn-edit:hover {
                background: #ffe066;
            }

            .styled-table .btn-delete {
                background: #e53e3e;
                color: #fff;
            }

            .styled-table .btn-delete:hover {
                background: #c53030;
            }

            @media (max-width: 900px) {
                .classes-header h2 {
                    font-size: 1.3rem;
                }

                .styled-table th,
                .styled-table td {
                    font-size: 13px;
                    padding: 8px 6px;
                }
            }

            @media (max-width: 600px) {
                .classes-header {
                    flex-direction: column;
                    gap: 10px;
                }

                .classes-header .btn {
                    width: 100%;
                    justify-content: center;
                }

                .styled-table th,
                .styled-table td {
                    font-size: 12px;
                    padding: 6px 4px;
                }
            }
        </style>
    </div>
</div>



<!-- User Modal -->
<div id="user-modal" class="modal modern-modal">
    <div class="modal-content modern-modal-content">
        <div class="modal-header modern-modal-header">
            <h3 id="modal-title">Th√™m t√†i kho·∫£n m·ªõi</h3>
            <span class="close modern-close">&times;</span>
        </div>
        <form id="user-form">
            <div class="form-group modern-form-group">
                <label for="user-username">Username:</label>
                <input type="text" id="user-username" class="modern-input" required>
            </div>
            <div class="form-group modern-form-group">
                <label for="user-password">M·∫≠t kh·∫©u:</label>
                <input type="password" id="user-password" class="modern-input" required>
            </div>
            <div class="form-group modern-form-group">
                <label for="user-name">T√™n ƒë·∫ßy ƒë·ªß:</label>
                <input type="text" id="user-name" class="modern-input" required>
            </div>
            <div class="form-group modern-form-group">
                <label for="user-role">Vai tr√≤:</label>
                <select id="user-role" class="modern-input" required>
                    <option value="student">H·ªçc sinh</option>
                    <option value="teacher">Gi√°o vi√™n</option>
                </select>
            </div>
            <div class="form-actions modern-form-actions">
                <button type="submit" class="btn btn-primary modern-btn">L∆∞u</button>
                <button type="button" class="btn btn-secondary" id="cancel-user-btn">H·ªßy</button>
            </div>
        </form>
    </div>
</div>

<!-- Modal t·∫°o/s·ª≠a l·ªõp h·ªçc (KH√îNG ICON, ƒê·∫¢M B·∫¢O HI·ªÇN TH·ªä DANH S√ÅCH) -->
<div id="class-modal" class="modal modern-modal">
    <div class="modal-content modern-modal-content">
        <div class="modal-header modern-modal-header">
            <h3 id="class-modal-title">Th√™m l·ªõp h·ªçc m·ªõi</h3>
            <span class="close modern-close" id="close-class-modal" title="ƒê√≥ng">&times;</span>
        </div>
        <form id="class-form" autocomplete="off">
            <div class="form-group modern-form-group">
                <label for="class-id" class="form-label">M√£ l·ªõp *</label>
                <input type="text" id="class-id" name="id" class="form-input modern-input" required maxlength="30"
                    placeholder="VD: 12A1">
            </div>
            <div class="form-group modern-form-group">
                <label for="class-name" class="form-label">T√™n l·ªõp *</label>
                <input type="text" id="class-name" name="name" class="form-input modern-input" required maxlength="100"
                    placeholder="Nh·∫≠p t√™n l·ªõp">
            </div>
            <div class="form-group modern-form-group">
                <label for="class-description" class="form-label">M√¥ t·∫£</label>
                <textarea id="class-description" name="description" class="form-input modern-input" maxlength="255"
                    placeholder="M√¥ t·∫£ ng·∫Øn v·ªÅ l·ªõp h·ªçc..."></textarea>
            </div>
            <div class="form-group modern-form-group">
                <label for="teacher-filter" class="form-label">Gi√°o vi√™n</label>
                <input type="text" id="teacher-filter" class="form-input modern-input"
                    placeholder="T√¨m ki·∫øm gi√°o vi√™n...">
                <div class="select-all-row"><input type="checkbox" id="teacher-select-all"
                        style="margin-right: 6px;"><label for="teacher-select-all" style="margin-bottom:0;">Ch·ªçn t·∫•t
                        c·∫£</label></div>
                <div id="class-teachers-list" class="checkbox-list modern-checkbox-list"></div>
                <div id="teacher-pagination" class="pagination modern-pagination"></div>
            </div>
            <div class="form-group modern-form-group">
                <label for="student-filter" class="form-label">H·ªçc sinh</label>
                <input type="text" id="student-filter" class="form-input modern-input"
                    placeholder="T√¨m ki·∫øm h·ªçc sinh...">
                <div class="select-all-row"><input type="checkbox" id="student-select-all"
                        style="margin-right: 6px;"><label for="student-select-all" style="margin-bottom:0;">Ch·ªçn t·∫•t
                        c·∫£</label></div>
                <div id="class-students-list" class="checkbox-list modern-checkbox-list"></div>
                <div id="student-pagination" class="pagination modern-pagination"></div>
            </div>
            <div class="form-actions modern-form-actions">
                <button type="submit" class="btn btn-primary modern-btn" id="save-class-btn">L∆∞u</button>
            </div>
        </form>
    </div>
</div>

<!-- Modal xem to√†n b·ªô h·ªçc sinh c·ªßa l·ªõp -->
<div id="students-list-modal" class="modal">
    <div class="modal-content" style="max-width:400px;">
        <div class="modal-header">
            <h3 id="students-list-modal-title">Danh s√°ch h·ªçc sinh</h3>
            <span class="close" id="close-students-list-modal" style="cursor:pointer;font-size:1.5em;">&times;</span>
        </div>
        <div id="students-list-modal-body" style="padding:18px 24px 12px 24px;max-height:350px;overflow-y:auto;"></div>
    </div>
</div>

<style>
    /* MODERN MODAL STYLES */
    .modern-modal {
        background: rgba(17, 36, 68, 0.18);
        display: none;
        position: fixed;
        z-index: 1000;
        left: 0;
        top: 0;
        width: 100vw;
        height: 100vh;
        justify-content: center;
        align-items: center;
        overflow-y: auto;
    }

    .modern-modal.show {
        display: flex;
    }

    .modern-modal-content {
        background: #fff;
        border-radius: 18px;
        box-shadow: 0 8px 32px rgba(17, 36, 68, 0.18);
        max-width: 480px;
        width: 96vw;
        padding: 0 0 18px 0;
        animation: modalPop 0.25s cubic-bezier(.4, 2, .6, 1) 1;
        position: relative;
    }

    @keyframes modalPop {
        0% {
            transform: scale(0.92);
            opacity: 0;
        }

        100% {
            transform: scale(1);
            opacity: 1;
        }
    }

    .modern-modal-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 18px 28px 10px 28px;
        border-bottom: 1.5px solid #e2e8f0;
        background: #f7fafc;
        border-radius: 18px 18px 0 0;
    }

    .modern-modal-header h3 {
        margin: 0;
        font-size: 1.35rem;
        color: #112444;
        font-weight: 700;
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .modern-close {
        font-size: 2.1em;
        color: #64748b;
        cursor: pointer;
        transition: color 0.2s;
        margin-left: 18px;
    }

    .modern-close:hover {
        color: #e53e3e;
    }

    .modern-form-group {
        margin: 18px 28px 0 28px;
        display: flex;
        flex-direction: column;
        gap: 6px;
    }

    .modern-form-group label {
        font-weight: 600;
        color: #112444;
        margin-bottom: 2px;
    }

    .modern-input {
        border: 1.5px solid #e2e8f0;
        border-radius: 8px;
        padding: 10px 12px;
        font-size: 1rem;
        transition: border 0.2s, box-shadow 0.2s;
        outline: none;
        background: #f9fafb;
    }

    .modern-input:focus {
        border: 1.5px solid #3b82f6;
        box-shadow: 0 0 0 2px #3b82f633;
        background: #fff;
    }

    .modern-checkbox-list {
        background: #f3f6fa;
        border: 1.5px solid #e2e8f0;
        border-radius: 8px;
        padding: 10px 12px;
        margin-top: 6px;
        max-height: 180px;
        overflow-y: auto;
    }

    .modern-checkbox-list label {
        font-size: 15px;
        padding: 5px 0;
        border-radius: 4px;
        transition: background 0.18s;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .modern-checkbox-list label:hover {
        background: #e6f0fa;
    }

    .modern-checkbox-list input[type="checkbox"] {
        accent-color: #3b82f6;
        width: 16px;
        height: 16px;
    }

    .modern-pagination {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 8px;
        margin-top: 8px;
    }

    .modern-pagination button {
        padding: 4px 10px;
        border: 1.5px solid #cbd5e0;
        background: #fff;
        border-radius: 4px;
        cursor: pointer;
        font-size: 14px;
        transition: background 0.18s, color 0.18s;
    }

    .modern-pagination button.active {
        background: #3b82f6;
        color: #fff;
        border-color: #3b82f6;
    }

    .modern-pagination button:disabled {
        opacity: 0.5;
        cursor: not-allowed;
    }

    .modern-form-actions {
        display: flex;
        justify-content: flex-end;
        gap: 12px;
        margin: 24px 28px 0 28px;
    }

    .modern-btn {
        font-size: 1.1em;
        padding: 10px 28px;
        border-radius: 8px;
        background: linear-gradient(90deg, #3b82f6 60%, #6366f1 100%);
        color: #fff;
        font-weight: 600;
        border: none;
        box-shadow: 0 2px 8px rgba(59, 130, 246, 0.08);
        transition: background 0.18s, box-shadow 0.18s;
        cursor: pointer;
    }

    .modern-btn:hover {
        background: linear-gradient(90deg, #2563eb 60%, #4f46e5 100%);
        box-shadow: 0 4px 16px rgba(59, 130, 246, 0.13);
    }

    @media (max-width: 600px) {
        .modern-modal-content {
            max-width: 99vw;
            padding: 0 0 10px 0;
        }

        .modern-form-group,
        .modern-form-actions {
            margin-left: 8px;
            margin-right: 8px;
        }
    }
</style>

<style>
    .modal {
        display: none;
        position: fixed;
        z-index: 2000;
        left: 0;
        top: 0;
        width: 100vw;
        height: 100vh;
        background: rgba(17, 36, 68, 0.18);
        justify-content: center;
        align-items: center;
    }

    .modal.show,
    .modal[style*='display: block'] {
        display: flex !important;
    }

    .modal-content {
        background: #fff;
        border-radius: 12px;
        box-shadow: 0 8px 32px rgba(17, 36, 68, 0.18);
    }
</style>

<style>
    .see-all-students {
        display: inline-block;
        color: #2563eb;
        font-weight: 600;
        background: #f1f6fb;
        border-radius: 6px;
        padding: 2px 10px;
        margin-left: 6px;
        text-decoration: none;
        font-size: 13px;
        transition: background 0.18s, color 0.18s;
        cursor: pointer;
    }

    .see-all-students:hover {
        background: #dbeafe;
        color: #1d4ed8;
        text-decoration: none;
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        // ... (other script logic)
        // Add padding-bottom to the main content area to prevent footer overlap
        document.getElementById('admin-content').style.paddingBottom = '70px';
    });
</script>