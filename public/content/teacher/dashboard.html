<!-- Dashboard cho gi√°o vi√™n -->
<div class="teacher-dashboard">
    <div class="dashboard-header">
        <h2>Trang ch·ªß gi√°o vi√™n</h2>
        <p>Qu·∫£n l√Ω ƒë·ªÅ thi v√† theo d√µi k·∫øt qu·∫£ h·ªçc sinh</p>
    </div>
    
    <!-- Th·ªëng k√™ t·ªïng quan -->
    <div class="stats-grid">
        <div class="stat-card">
            <div class="stat-icon">üìù</div>
            <div class="stat-content">
                <div class="stat-number" id="total-exams-created">0</div>
                <div class="stat-label">ƒê·ªÅ thi ƒë√£ t·∫°o</div>
            </div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon">üë•</div>
            <div class="stat-content">
                <div class="stat-number" id="total-students">0</div>
                <div class="stat-label">Sinh vi√™n tham gia</div>
            </div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon">üìä</div>
            <div class="stat-content">
                <div class="stat-number" id="average-class-score">0</div>
                <div class="stat-label">ƒêi·ªÉm TB l·ªõp</div>
            </div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon">‚úÖ</div>
            <div class="stat-content">
                <div class="stat-number" id="completed-submissions">0</div>
                <div class="stat-label">B√†i n·ªôp</div>
            </div>
        </div>
    </div>
    
    <!-- H√†nh ƒë·ªông nhanh -->
    <div class="quick-actions">
        <h3>H√†nh ƒë·ªông nhanh</h3>
        <div class="action-grid">
            <button class="action-btn" onclick="navigateToPage('create_exam')">
                <div class="action-icon">‚úèÔ∏è</div>
                <div class="action-text">
                    <h4>T·∫°o ƒë·ªÅ thi m·ªõi</h4>
                    <p>T·∫°o ƒë·ªÅ thi tr·∫Øc nghi·ªám</p>
                </div>
            </button>
            
            <button class="action-btn" onclick="navigateToPage('manage_exams')">
                <div class="action-icon">üìã</div>
                <div class="action-text">
                    <h4>Qu·∫£n l√Ω ƒë·ªÅ thi</h4>
                    <p>Xem v√† ch·ªânh s·ª≠a ƒë·ªÅ thi</p>
                </div>
            </button>
            
            <button class="action-btn" onclick="navigateToPage('view_results')">
                <div class="action-icon">üìà</div>
                <div class="action-text">
                    <h4>Xem k·∫øt qu·∫£</h4>
                    <p>Theo d√µi ƒëi·ªÉm s·ªë sinh vi√™n</p>
                </div>
            </button>
        </div>
    </div>
    
    <!-- ƒê·ªÅ thi g·∫ßn ƒë√¢y -->
    <div class="card">
        <div class="card-header">
            <h3 class="card-title">ƒê·ªÅ thi g·∫ßn ƒë√¢y</h3>
        </div>
        <div class="recent-exams" id="recent-exams">
            <div class="no-data">
                <p>Ch∆∞a c√≥ ƒë·ªÅ thi n√†o</p>
            </div>
        </div>
    </div>
    
    <!-- K·∫øt qu·∫£ m·ªõi nh·∫•t -->
    <div class="card">
        <div class="card-header">
            <h3 class="card-title">K·∫øt qu·∫£ m·ªõi nh·∫•t</h3>
        </div>
        <div class="recent-results" id="recent-results">
            <div class="no-data">
                <p>Ch∆∞a c√≥ k·∫øt qu·∫£ n√†o</p>
            </div>
        </div>
    </div>
</div>

<style>
.teacher-dashboard {
    animation: fadeInUp 0.5s ease-out;
}

.dashboard-header {
    text-align: center;
    margin-bottom: 30px;
    padding: 30px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border-radius: 15px;
}

.dashboard-header h2 {
    font-size: 2rem;
    margin-bottom: 10px;
}

.dashboard-header p {
    opacity: 0.9;
    font-size: 1.1rem;
}

.stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
    margin-bottom: 30px;
}

.stat-card {
    background: white;
    padding: 25px;
    border-radius: 12px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    display: flex;
    align-items: center;
    gap: 15px;
    transition: transform 0.3s ease;
    border-top: 4px solid #667eea;
}

.stat-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 20px rgba(102, 126, 234, 0.15);
}

.stat-icon {
    font-size: 2.5rem;
    opacity: 0.8;
}

.stat-content {
    flex: 1;
}

.stat-number {
    font-size: 2rem;
    font-weight: bold;
    color: #667eea;
    margin-bottom: 5px;
}

.stat-label {
    color: #718096;
    font-weight: 500;
    font-size: 0.9rem;
}

.quick-actions {
    margin-bottom: 30px;
}

.quick-actions h3 {
    margin-bottom: 20px;
    color: #2d3748;
    font-size: 1.5rem;
}

.action-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
}

.action-btn {
    background: white;
    border: 2px solid #e2e8f0;
    border-radius: 12px;
    padding: 25px;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 15px;
    text-align: left;
    width: 100%;
}

.action-btn:hover {
    border-color: #667eea;
    transform: translateY(-2px);
    box-shadow: 0 4px 20px rgba(102, 126, 234, 0.15);
}

.action-icon {
    font-size: 2rem;
    opacity: 0.8;
}

.action-text h4 {
    margin-bottom: 5px;
    color: #2d3748;
    font-size: 1.1rem;
}

.action-text p {
    color: #718096;
    font-size: 0.9rem;
    margin: 0;
}

.recent-exams, .recent-results {
    min-height: 150px;
}

.exam-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px;
    border: 1px solid #e2e8f0;
    border-radius: 8px;
    margin-bottom: 10px;
    transition: all 0.3s ease;
}

.exam-item:hover {
    border-color: #667eea;
    box-shadow: 0 2px 8px rgba(102, 126, 234, 0.1);
}

.exam-info h4 {
    margin-bottom: 5px;
    color: #2d3748;
}

.exam-info p {
    color: #718096;
    font-size: 0.9rem;
}

.exam-meta {
    text-align: right;
}

.exam-participants {
    font-size: 1.1rem;
    font-weight: bold;
    color: #667eea;
    margin-bottom: 5px;
}

.exam-date {
    color: #718096;
    font-size: 0.8rem;
}

.result-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 15px;
    border-bottom: 1px solid #e2e8f0;
}

.result-item:last-child {
    border-bottom: none;
}

.student-info h4 {
    margin-bottom: 3px;
    color: #2d3748;
    font-size: 1rem;
}

.student-info p {
    color: #718096;
    font-size: 0.85rem;
}

.result-score {
    text-align: right;
}

.score-value {
    font-size: 1.2rem;
    font-weight: bold;
    color: #667eea;
    margin-bottom: 3px;
}

.result-time {
    color: #718096;
    font-size: 0.75rem;
}

.no-data {
    text-align: center;
    padding: 40px;
    color: #718096;
    font-style: italic;
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@media (max-width: 768px) {
    .dashboard-header {
        padding: 20px;
    }
    
    .dashboard-header h2 {
        font-size: 1.5rem;
    }
    
    .stat-card {
        padding: 20px;
    }
    
    .stat-number {
        font-size: 1.5rem;
    }
    
    .action-grid {
        grid-template-columns: 1fr;
    }
    
    .action-btn {
        padding: 20px;
    }
    
    .exam-item {
        flex-direction: column;
        align-items: flex-start;
        gap: 10px;
    }
    
    .exam-meta {
        text-align: left;
        width: 100%;
    }
}
</style>

<script>
// Load d·ªØ li·ªáu dashboard khi trang ƒë∆∞·ª£c t·∫£i
document.addEventListener('DOMContentLoaded', function() {
    loadTeacherDashboardData();
});

async function loadTeacherDashboardData() {
    try {
        // Simulate API call ƒë·ªÉ l·∫•y d·ªØ li·ªáu
        const mockData = {
            totalExamsCreated: 3,
            totalStudents: 25,
            averageClassScore: 7.8,
            completedSubmissions: 18,
            recentExams: [
                {
                    id: 1,
                    title: "Ki·ªÉm tra gi·ªØa k·ª≥ - L·∫≠p tr√¨nh Web",
                    subject: "L·∫≠p tr√¨nh Web",
                    participants: 25,
                    date: "2025-01-05"
                },
                {
                    id: 2,
                    title: "B√†i t·∫≠p JavaScript N√¢ng cao",
                    subject: "L·∫≠p tr√¨nh Web",
                    participants: 23,
                    date: "2025-01-03"
                }
            ],
            recentResults: [
                {
                    studentName: "Nguy·ªÖn VƒÉn A",
                    studentId: "SV001",
                    examTitle: "Ki·ªÉm tra L·∫≠p tr√¨nh Web",
                    score: 9.0,
                    submittedAt: "2025-01-05 14:30"
                },
                {
                    studentName: "Tr·∫ßn Th·ªã B",
                    studentId: "SV002",
                    examTitle: "B√†i t·∫≠p JavaScript",
                    score: 8.5,
                    submittedAt: "2025-01-05 14:25"
                }
            ]
        };
        
        // C·∫≠p nh·∫≠t th·ªëng k√™
        document.getElementById('total-exams-created').textContent = mockData.totalExamsCreated;
        document.getElementById('total-students').textContent = mockData.totalStudents;
        document.getElementById('average-class-score').textContent = mockData.averageClassScore.toFixed(1);
        document.getElementById('completed-submissions').textContent = mockData.completedSubmissions;
        
        // C·∫≠p nh·∫≠t ƒë·ªÅ thi g·∫ßn ƒë√¢y
        const recentExamsContainer = document.getElementById('recent-exams');
        if (mockData.recentExams.length > 0) {
            recentExamsContainer.innerHTML = mockData.recentExams.map(exam => `
                <div class="exam-item">
                    <div class="exam-info">
                        <h4>${exam.title}</h4>
                        <p>${exam.subject}</p>
                    </div>
                    <div class="exam-meta">
                        <div class="exam-participants">${exam.participants} h·ªçc sinh</div>
                        <div class="exam-date">${formatDate(exam.date)}</div>
                    </div>
                </div>
            `).join('');
        }
        
        // C·∫≠p nh·∫≠t k·∫øt qu·∫£ m·ªõi nh·∫•t
        const recentResultsContainer = document.getElementById('recent-results');
        if (mockData.recentResults.length > 0) {
            recentResultsContainer.innerHTML = mockData.recentResults.map(result => `
                <div class="result-item">
                    <div class="student-info">
                        <h4>${result.studentName}</h4>
                        <p>${result.examTitle}</p>
                    </div>
                    <div class="result-score">
                        <div class="score-value">${result.score}/10</div>
                        <div class="result-time">${formatDateTime(result.submittedAt)}</div>
                    </div>
                </div>
            `).join('');
        }
        
    } catch (error) {
        console.error('L·ªói load d·ªØ li·ªáu dashboard:', error);
    }
}

function navigateToPage(page) {
    // Trigger navigation event
    const navLink = document.querySelector(`[data-page="${page}"]`);
    if (navLink) {
        navLink.click();
    }
}

function formatDate(dateString) {
    const date = new Date(dateString);
    return date.toLocaleDateString('vi-VN');
}

function formatDateTime(dateTimeString) {
    const date = new Date(dateTimeString);
    return date.toLocaleDateString('vi-VN') + ' ' + date.toLocaleTimeString('vi-VN', {hour: '2-digit', minute: '2-digit'});
}
</script>
